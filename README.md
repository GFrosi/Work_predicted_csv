# Work_predicted_csv
Scripts to manipulate csv files with predicted information (i.e EpiLaP)

# Requirements

```python 3``` and ```install requirements.txt in your env```

- webscrp_cell_tissue_type.py


```
usage: webscrp_cell_tissue_type.py [-h] -j JSON -o OUTPUT -a AUGMENTED -O OUT

A script to extract the tissye_type anc cell_type from EBI (epirr information

optional arguments:
  -h, --help            show this help message and exit
  -j JSON, --json JSON  Path to epiatlas_json file
  -o OUTPUT, --output OUTPUT
                        Path to output file with the extracted information (i.e cell_type and tissue_type. CSV extension)
  -a AUGMENTED, --augmented AUGMENTED
                        Path to augmented csv file generated by EpiLaP
  -O OUT, --OUT OUT     Path to the final csv file with the new columns
  ```


  - filter_max_value.py


```
usage: filter_max_value.py [-h] -f FILE -o OUTPUT

A script to extract the maximum value of prediction for each sample (row), and
returns a dataframe with a new columns with the predicted target

optional arguments:
  -h, --help            show this help message and exit
  -f FILE, --file FILE  Path to csv file with the predictions)
  -o OUTPUT, --output OUTPUT
                        Path to output file including the new column
```

- merge_augmented.py

```
usage: merge_augmented.py [-h] -f FILE -F FILE -o OUT

A script to merge two dataframes keeping all rows.

optional arguments:
  -h, --help            show this help message and exit
  -f FILE, --file FILE  first csv file to be loaded. This file will be the
                        major df to the merge command
  -F FILE, --FILE FILE  second csv file to be loaded and merged with the first
                        one
  -o OUT, --out OUT     Path to save the merged csv file with the new columns

```

- add_column_training.py

```
usage: add_column_training.py [-h] -f FILE -F FILE -o OUT

A script to create a new column with the number of samples used per cell_type
and target to train the EpiAtlas Neural Network for cell_type

optional arguments:
  -h, --help            show this help message and exit
  -f FILE, --file FILE  Path to csv with number of samples per cell_types and
                        assay
  -F FILE, --FILE FILE  Path to csv with the MD5, predicted cell_type and
                        predicted assay (those columns were generated by
                        filter_max_value.py)
  -o OUT, --out OUT     Path to the final csv file with the new column
  ```
  
  - webscp_histones_epirr_count.py

  From a list of EpiRR, this script will count how many samples exist per histone (H3K27ac, H3K27me3, H3K36me3, H3K4me1, H3K4me3, H3K9me3, Others).

  Usage: python webscp_histones_epirr_count.py list_epirr.txt > results.csv